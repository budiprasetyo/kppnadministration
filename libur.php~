<?php
     ob_start();	
     session_start();
     // Panggil semua fungsi yang dibutuhkan (semuanya ada di folder config)
     include "config/koneksi.php";
//function get_next_workday() { 
     	$qharilibur		= mysql_query("SELECT * FROM t_yulian WHERE kdlibur='L'")or die(mysql_error);
    //Asumsi libur maksimal 9 hari
	$nextdays	= array(strtotime('+1 day'), strtotime('+2 days'), strtotime('+3 days'), strtotime('+4 days'), strtotime('+5 days'), strtotime('+6 days'), strtotime('+7 days'), strtotime('+8 days'), strtotime('+9 days'));
    	$i	= 0;
     	while($rharilibur		= mysql_fetch_array($qharilibur)){
		
	    		
			$tgl			= date("d-m-Y",$rharilibur[0]);
			
			$busDays = 3;
			$day = date("w");
			if( $day > 0 && $day < 6 && !$tgl ) { /* Antara Sabtu dan Minggu*/
				$day += 1; /* add 1 more days for weekend */
			}
			$day += $busDays;
			echo $day;
			
			
			
/*
			for ($i = 0; $i < count($nextdays); $i++) { 
				$daynum = (int) date('w', $nextdays[$i]); 
				$daytext = date('d-M-Y', $nextdays[$i]); 
				
				if (($daynum > 0) && ($daynum < 6) && (!in_array($daytext, $tgl))) { 
					return $nextdays[$i]; 
				} 
				
			} 
			*/
	
//}	
		//echo date('d-M-Y', get_next_workday());
		/*			
     			
			echo $arrLibur[0]."<br />";
			$i++;
			}
			
function get_next_workday() { 
    // Bank holidays 
		    $bankhols = array('11-Aug-2011', '12-Aug-2011'); 
    // Assuming that the longest someone can be off work is 4 days 
		    $nextdays = array(strtotime('+1 day'), strtotime('+2 days'), strtotime('+3 days'), strtotime('+4 days'), strtotime('+5 days')); 
    for ($i = 0; $i < count($nextdays); $i++) { 
	    $daynum = (int) date('w', $nextdays[$i]); 
	    $daytext = date('d-M-Y', $nextdays[$i]); 
	    if (($daynum > 0) && ($daynum < 6) && (!in_array($daytext, $bankhols))) { 
		    return $nextdays[$i]; 
	    } 
    } 
			} 

// Print next working day 
		echo date('d-M-Y', get_next_workday());  
		
		*/
?>